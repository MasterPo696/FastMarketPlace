<div class="col-md-3">
  <div class="side-categories">
    <div class="list-group">
      <a href="/" class="list-group-item list-group-item-action border-0 rounded mb-2 {% if not current_category_id %}active{% endif %}">
        All Products
      </a>
      {% for category in categories %}
      <div class="mb-2">
        <button class="list-group-item list-group-item-action border-0 rounded w-100 text-start d-flex justify-content-between align-items-center" 
                type="button" 
                data-bs-toggle="collapse" 
                data-bs-target="#category-{{ category.id }}" 
                aria-expanded="{% if current_category_id == category.id %}true{% else %}false{% endif %}">
          {{ category.name if category.name in ['Electronics', 'Books'] else {
            'Фрукты': 'Fruits',
            'Овощи': 'Vegetables', 
            'Напитки': 'Beverages',
            'Meat and Poultry': 'Meat and Poultry',
            'Dairy Products': 'Dairy Products',
            'Bread and Pastries': 'Bread and Pastries',
            'Beverages': 'Beverages',
            'Clothing': 'Clothing'
          }.get(category.name, category.name) }}
          <i class="bi bi-chevron-down"></i>
        </button>
        <div class="collapse {% if current_category_id == category.id %}show{% endif %}" 
            id="category-{{ category.id }}">
          <div class="list-group mt-1 ms-3">
            {% for subcategory in category.subcategories %}
            <a href="/?subcategory_id={{ subcategory.id }}" 
              class="list-group-item list-group-item-action border-0 rounded py-2 {% if current_subcategory_id == subcategory.id %}active{% else %}{% if not subcategory.items %}text-muted{% endif %}{% endif %}">
              {{ subcategory.name }}
            </a>
            {% endfor %}
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div> 